<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>均衡のマーケット - Solitaire</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-container">
        <header id="game-header">
            <h1 id="game-title">Equilibrium Market</h1>
            <div id="round-tracker">Round: <span id="current-round">1</span> / 5</div>
            <div id="vp-tracker">
                <div>You: <span id="player-vp">0</span> VP</div>
                <div>CPU A: <span id="cpu-a-vp">0</span> VP</div>
                <div>CPU B: <span id="cpu-b-vp">0</span> VP</div>
            </div>
        </header>

        <main id="main-board">
            <section id="market-area">
                <h2>Market (Mini-Round <span id="mini-round">1</span>/5)</h2>
                <div id="market-cards">
                    </div>
            </section>

            <section id="players-area">
                <div class="player-board" id="player-you">
                    <h3>You (Player)</h3>
                    <div class="chips" id="player-chips">
                        </div>
                    <div class="cards-held">
                        <div>Red: <span id="player-red">0</span></div>
                        <div>Blue: <span id="player-blue">0</span></div>
                        <div>Diff: <span id="player-diff">0</span></div>
                    </div>
                </div>

                <div class="player-board" id="player-cpu-a">
                    <h3>CPU A (<span id="cpu-a-level"></span>)</h3>
                    <div class="chips" id="cpu-a-chips">
                        </div>
                    <div class="cards-held">
                        <div>Red: <span id="cpu-a-red">0</span></div>
                        <div>Blue: <span id="cpu-a-blue">0</span></div>
                        <div>Diff: <span id="cpu-a-diff">0</span></div>
                    </div>
                </div>

                <div class="player-board" id="player-cpu-b">
                    <h3>CPU B (<span id="cpu-b-level"></span>)</h3>
                    <div class="chips" id="cpu-b-chips">
                        </div>
                    <div class="cards-held">
                        <div>Red: <span id="cpu-b-red">0</span></div>
                        <div>Blue: <span id="cpu-b-blue">0</span></div>
                        <div>Diff: <span id="cpu-b-diff">0</span></div>
                    </div>
                </div>
            </section>
        </main>

        <footer id="game-footer">
            <div id="game-log">
                <p>ゲームを開始します...</p>
            </div>
            <button id="next-step-button" style="display: none;">次へ</button>
        </footer>
    </div>

    <div id="setup-modal">
        <div class="modal-content">
            <h2>Game Setup</h2>
            <p>CPUの難易度を選択してください。</p>
            <div class="cpu-setup">
                <label for="cpu-a-select">CPU A:</label>
                <select id="cpu-a-select">
                    <option value="easy">初級 (Rookie)</option>
                    <option value="medium" selected>中級 (Professional)</option>
                    <option value="hard">上級 (Mastermind)</option>
                </select>
            </div>
            <div class="cpu-setup">
                <label for="cpu-b-select">CPU B:</label>
                <select id="cpu-b-select">
                    <option value="easy">初級 (Rookie)</option>
                    <option value="medium" selected>中級 (Professional)</option>
                    <option value="hard">上級 (Mastermind)</option>
                </select>
            </div>
            <button id="start-game-button">Start Game</button>
        </div>
    </div>

    <div id="sudden-death-modal" style="display: none;">
        <div class="modal-content sd-modal">
            <h2 id="sd-title">Sudden Death</h2>
            
            <div id="sd-setup-phase">
                <p>ファイナリスト: <b id="sd-finalist-a"></b> vs <b id="sd-finalist-b"></b></p>
                <p>裁定者: <b id="sd-arbiter"></b></p>
                
                <div id="sd-setup-info">
                    <p>サドンデス「カラー・マッチ」が発生します。</p>
                </div>

                <div id="sd-role-selection">
                    </div>
                <div id="sd-hand-selection">
                    </div>
            </div>

            <div id="sd-match-phase" style="display: none;">
                <h3>Match Round <span id="sd-match-round">1</span> / <span id="sd-match-total"></span></h3>
                
                <div class="sd-battle-board">
                    <div class="sd-player-zone" id="sd-opponent-zone">
                        <h4 id="sd-opponent-name">Opponent (CPU A)</h4>
                        <div class="sd-player-role" id="sd-opponent-role">(役割)</div>
                        <div class="sd-player-score">Score: <span id="sd-opponent-score">0</span></div>
                        <div class="sd-player-hand-display">
                            <div>Initial: <span id="sd-opponent-initial" class="sd-info-card"></span></div>
                            <div>Current: 
                                <span id="sd-opponent-red" class="sd-info-card red">R (?)</span>
                                <span id="sd-opponent-blue" class="sd-info-card blue">B (?)</span>
                            </div>
                        </div>
                        <div class="sd-played-card" id="sd-opponent-played">?</div>
                    </div>
            
                    <div class="sd-vs">VS</div>
            
                    <div class="sd-player-zone" id="sd-you-zone">
                        <h4 id="sd-you-name">You (Player)</h4>
                        <div class="sd-player-role" id="sd-you-role">(役割)</div>
                        <div class="sd-player-score">Score: <span id="sd-you-score">0</span></div>
                        <div class="sd-player-hand-display">
                            <div>Initial: <span id="sd-you-initial" class="sd-info-card"></span></div>
                            <div>Current: 
                                <span id="sd-you-red" class="sd-info-card red">R (?)</span>
                                <span id="sd-you-blue" class="sd-info-card blue">B (?)</span>
                            </div>
                        </div>
                        <div class="sd-played-card" id="sd-you-played">?</div>
                    </div>
                </div>
                
                <div id="sd-player-hand">
                    Your Hand (Select 1):
                    </div>
            
                <div id="sd-match-result">
                    </div>
            </div>
            
            <button id="sd-next-button" style="display: none;">次へ</button>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>